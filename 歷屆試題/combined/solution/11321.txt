#include<iostream>
#include<vector>
#include<algorithm>
using namespace std;
int n,m;
bool LESS(int a,int b){
  if(a%m!=b%m)return a%m<b%m;
  if(abs(a%2)!=abs(b%2))return abs(a%2)>abs(b%2);
  if(a%2)return a>b;
  return a<b;
}
int main(){
  while(cin>>n>>m&&!(n==0&&m==0)){
    vector<int>a(n);for(auto&v:a)cin>>v;
    sort(a.begin(),a.end(),LESS);
    cout<<n<<" "<<m<<endl;for(auto&v:a)cout<<v<<endl;
  }
  cout<<"0 0"<<endl;
  return 0;
}

