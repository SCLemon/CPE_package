#include<iostream>
#include<string>
#include<sstream>
#include<vector>
#include<algorithm>
using namespace std;

int main() {
    string cins;
    int n=0, t;
    vector<int> pri;
    while(getline(cin, cins)){
        if(cins.find(' ')==string::npos){
            n = stoi(cins);
            pri.resize(n+1);
            for(int i=1;i<n+1;++i){
                cin>>pri[i];
            }
            cin.ignore();
            continue;
        }
        stringstream ss(cins);
        vector<int> lis, v(n+1);
        for(int i=1;i<n+1;++i){
            ss>>t;
            v[t]=i;
        }
        for(int i=1;i<n+1;++i){
            t = v[i];
            if(lis.empty() || pri[lis.back()]<pri[t]){
                lis.push_back(t);
            }
            else{
                auto it=lower_bound(lis.begin(),lis.end(),t,[pri](int a,int b){return pri[a]<pri[b];});
                *it=t;
            }
        }
        cout<<lis.size()<<endl;
    }
}